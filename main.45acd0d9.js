parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KIzB":[function(require,module,exports) {
"use strict";var n=document.querySelector(".start"),e=4,t=4,r=i(),o=0,c="";function a(){for(var n=document.querySelector(".game-field"),r=document.createElement("tbody"),o=0;o<e;o++){for(var c=document.createElement("tr"),a=0;a<t;a++){var i=document.createElement("td");i.id="".concat(o,"-").concat(a),i.className="field-cell",c.append(i)}r.append(c)}n.append(r)}function i(){for(var n=[],r=0;r<e;r++){n.push([]);for(var o=0;o<t;o++)n[r][o]=0}return n}function f(){r.forEach(function(n,e){n.forEach(function(n,t){u(document.getElementById("".concat(e,"-").concat(t)),n)})})}function u(n,e){n.innerHTML=0===e?"":e,n.className="field-cell",0!==e&&n.classList.add("field-cell--".concat(e))}function s(n){document.querySelector(".message-".concat(n)).classList.toggle("hidden")}function l(){d(),v(),v(),f(),L(),document.addEventListener("keydown",h)}function d(){for(var n=0;n<e;n++)for(var c=0;c<t;c++)r[n][c]=0;o=0}function v(){if(S())for(;;){var n=Math.floor(Math.random()*e),o=Math.floor(Math.random()*t);if(0===r[n][o]){r[n][o]=Math.random()<.9?2:4;break}}}function h(){var n=event.keyCode,e=JSON.parse(JSON.stringify(r));switch(n){case 40:g();break;case 38:m();break;case 39:p();break;case 37:y()}var t=JSON.parse(JSON.stringify(r));JSON.stringify(e)!==JSON.stringify(t)&&(v(),L(),f(),k(),w())}function m(){for(var n=0;n<r[0].length;n++){for(var e=[],t=0;t<r.length;t++)e.push(r[t][n]);for(var o=E(e,r.length),c=0;c<r.length;c++)r[c][n]=o[c]}}function g(){for(var n=0;n<r[0].length;n++){for(var e=[],t=r.length-1;t>=0;t--)e.push(r[t][n]);for(var o=E(e,r.length),c=r.length-1;c>=0;c--)r[c][n]=o[r.length-1-c]}}function y(){r.forEach(function(n,t){r[t]=E(n,e)})}function p(){r.forEach(function(n,t){r[t]=E(n.slice().reverse(),e).reverse()})}function E(n,e){for(var t=n.filter(function(n){return 0!==n}),r=0;r<t.length-1;r++)t[r]===t[r+1]&&(t[r]*=2,t[r+1]=0,o+=t[r]);for(t=t.filter(function(n){return 0!==n});t.length<e;)t.push(0);return t}function L(){document.querySelector(".game-score").innerHTML=o}function S(){for(var n=0;n<r.length;n++)if(r[n].some(function(n){return 0===n}))return!0;return!1}function k(){for(var n=0;n<r.length;n++)r[n].some(function(n){return 2048===n})&&M()}function w(){for(var n=0;n<r.length;n++)if(r[n].some(function(n){return 0===n}))return;for(var e=0;e<r.length;e++)for(var t=0;t<r[e].length;t++){var o=r[e][t];if(e>0&&r[e-1][t]===o)return;if(e<r.length-1&&r[e+1][t]===o)return;if(t>0&&r[e][t-1]===o)return;if(t<r[e].length-1&&r[e][t+1]===o)return}N()}function M(){document.removeEventListener("keydown",h),s("win"),c="win"}function N(){document.removeEventListener("keydown",h),s("lose"),c="lose"}a(),n.addEventListener("click",function(){n.classList.contains("restart")||(n.classList.remove("start"),n.classList.add("restart"),n.innerHTML="Restart",s("start")),"lose"===c&&s("lose"),"win"===c&&s("win"),c="",l()});
},{}]},{},["KIzB"], null)
//# sourceMappingURL=main.45acd0d9.js.map